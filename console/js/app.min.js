!function(){$(".navbar-nav li a").click(function(){$("html, body").animate({scrollTop:0},"slow");var e=$(".navbar-toggle").is(":visible");e&&$(".navbar-collapse").collapse("hide")});var e=angular.module("site",["ngRoute"]);e.controller("PageController",["$scope","$location",function(e,t){this.page=this.title=t.path().substring(1),this.setActive=function(e){this.page=e},this.isActive=function(e){return this.page===e}}]),e.controller("ConsoleController",["$scope","$http","$location",function(e,t,o){var a=this;this.verbMap={GET:"info",PUT:"warning",POST:"success",DELETE:"danger"};var n=o.absUrl();$("#jsonUrl").val(n.substr(0,n.lastIndexOf("/console"))+"/assets/des.json"),this.loadDef=function(e){t.get(e).success(function(e,t,n,r){o.search("api",r.url),a.showDef(e)}).error(function(){a.grabDef()})},this.showDef=function(e){a.apiDef=e,$("#method_list").html(""),$("#method_pulldown").html(""),angular.forEach(e.resources,function(e,t){angular.forEach(e.methods,function(e,o){var n=angular.uppercase(e.verb),r=e.displayName,l=e.description,s=t+"||"+o,i='data-resourceIndex="'+s+'"',c='data-toggle="tooltip" data-placement="auto" title="'+l.replace(/<[^>]+>/gm,"")+'"',h="list-group-item";a.verbMap.hasOwnProperty(n)&&(h+=" list-group-item-"+a.verbMap[n]),$("#method_list").append('<a class="'+h+'" href="#" '+i+" "+c+'><span class="label label-default">'+n+"</span>"+r+"</a>"),$("#method_pulldown").append("<option "+i+' value="'+s+'">'+n+" "+r+"</option>")})}),$('[data-toggle="tooltip"]').tooltip(),$("#method_list a").unbind("click").click(function(){return $("html, body").animate({scrollTop:0},"slow"),a.showMethod($(this).attr("data-resourceIndex")),!1}),$("#method_pulldown").unbind("change").change(function(){a.showMethod($(this).val())})},this.grabDef=function(){var e=o.search().hasOwnProperty("api")?o.search().api:!1;e?a.loadDef(e):$("#notificationModal").modal("show").find("button.js-loadDef").click(function(){a.loadDef($.trim($("#jsonUrl").val()))})}(),this.showMethod=function(e){var t=e.split("||"),o=a.apiDef.resources[t[0]],n=o.methods[t[1]];console.log(n);{var r={verb:angular.uppercase(n.verb),name:n.displayName,description:n.description,path:n.path,base:n.baseUrl};!function(){$("#request_method").text(r.verb).removeClass("info warning success danger"),a.verbMap.hasOwnProperty(r.verb)&&$("#request_method").addClass(a.verbMap[r.verb]),$("#request_url").val(r.path)}(),function(){$("#request_information_tab").html(""),angular.forEach(["name","description","base","path"],function(e){$("#request_information_tab").append("<dt>"+e+"</dt><dd>"+r[e]+"</dd>")})}()}}}]),e.controller("HelpController",function(){}),e.config(["$routeProvider","$locationProvider",function(e,t){e.when("/console",{templateUrl:"partials/console.html",controller:"ConsoleController"}),e.when("/help",{templateUrl:"partials/help.html",controller:"HelpController"}),e.otherwise({redirectTo:"/console"}),t.html5Mode(!0).hashPrefix("!")}])}();