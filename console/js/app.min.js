!function(){$(".navbar-nav li a").click(function(){$("html, body").animate({scrollTop:0},"slow");var e=$(".navbar-toggle").is(":visible");e&&$(".navbar-collapse").collapse("hide")});var e=angular.module("site",["ngRoute"]);e.controller("PageController",["$scope","$location",function(e,a){this.page=this.title=a.path().substring(1),this.setActive=function(e){this.page=e},this.isActive=function(e){return this.page===e}}]),e.controller("ConsoleController",["$scope","$http","$location",function(e,a,t){var o=this;this.verbMap={GET:"info",PUT:"warning",POST:"success",DELETE:"danger"};var r=t.absUrl();$("#jsonUrl").val(r.substr(0,r.lastIndexOf("/console"))+"/assets/des.json"),this.loadDef=function(e){a.get(e).success(function(e,a,r,n){t.search("api",n.url),o.showDef(e)}).error(function(){o.grabDef()})},this.showDef=function(e){o.apiDef=e,$("#method_list").html(""),$("#method_pulldown").html(""),angular.forEach(e.resources,function(e,a){angular.forEach(e.methods,function(e,t){var r=angular.uppercase(e.verb),n=e.displayName,s=e.description,l=a+"||"+t,i='data-resourceIndex="'+l+'"',p='data-toggle="tooltip" data-placement="auto" title="'+s.replace(/<[^>]+>/gm,"")+'"',c="list-group-item";o.verbMap.hasOwnProperty(r)&&(c+=" list-group-item-"+o.verbMap[r]),$("#method_list").append('<a class="'+c+'" href="#" '+i+" "+p+'><span class="label label-default">'+r+"</span>"+n+"</a>"),$("#method_pulldown").append("<option "+i+' value="'+l+'">'+r+" "+n+"</option>")})}),$('[data-toggle="tooltip"]').tooltip(),$("#method_list a").unbind("click").click(function(){return $("html, body").animate({scrollTop:0},"slow"),o.showMethod($(this).attr("data-resourceIndex")),!1}),$("#method_pulldown").unbind("change").change(function(){o.showMethod($(this).val())})},this.grabDef=function(){var e=t.search().hasOwnProperty("api")?t.search().api:!1;e?o.loadDef(e):$("#notificationModal").modal("show").find("button.js-loadDef").click(function(){o.loadDef($.trim($("#jsonUrl").val()))})}(),this.showMethod=function(e){{var a=e.split("||"),t=o.apiDef.resources[a[0]],r=t.methods[a[1]],n={verb:angular.uppercase(r.verb),name:r.displayName,description:r.description,path:r.path,base:r.baseUrl,parameters:{}};!function(){angular.forEach([t,r],function(e){e.hasOwnProperty("parameters")&&null!==e.parameters&&angular.forEach(e.parameters,function(e){if(e.hasOwnProperty("type")&&e.hasOwnProperty("name")){var a=angular.lowercase(e.type);n.parameters.hasOwnProperty(a)||(n.parameters[a]={}),n.parameters[a][e.name]=e}}),e.hasOwnProperty("body")&&null!==e.body&&e.body.hasOwnProperty("parameters")&&null!==e.body.parameters&&e.body.parameters.length>0&&(n.parameters.hasOwnProperty("body")||(n.parameters.body={}),angular.forEach(e.body.parameters,function(e){e.hasOwnProperty("name")&&(n.parameters.body[e.name]=e)}))})}(),function(){$("#request_method").text(n.verb).removeClass("info warning success danger"),o.verbMap.hasOwnProperty(n.verb)&&$("#request_method").addClass(o.verbMap[n.verb]),$("#request_url").val(n.path)}(),function(){$("#request_information_tab").html(""),angular.forEach(["name","description","base","path"],function(e){$("#request_information_tab").append("<dt>"+e+"</dt><dd>"+n[e]+"</dd>")})}(),function(){$("#request_parameters_tab form").html(""),console.log(n.parameters)}()}}}]),e.controller("HelpController",function(){}),e.config(["$routeProvider","$locationProvider",function(e,a){e.when("/console",{templateUrl:"partials/console.html",controller:"ConsoleController"}),e.when("/help",{templateUrl:"partials/help.html",controller:"HelpController"}),e.otherwise({redirectTo:"/console"}),a.html5Mode(!0).hashPrefix("!")}])}();